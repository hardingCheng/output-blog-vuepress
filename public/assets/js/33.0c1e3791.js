(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{610:function(t,s,a){"use strict";a.r(s);var n=a(6),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"开篇"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开篇"}},[t._v("#")]),t._v(" 开篇")]),t._v(" "),a("p",[t._v("基于 Vue 3 最新语法标准，后台前端综合解决方案。")]),t._v(" "),a("h3",{attrs:{id:"vue-的最新变化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue-的最新变化"}},[t._v("#")]),t._v(" vue 的最新变化")]),t._v(" "),a("p",[t._v("自从 "),a("code",[t._v("vue")]),t._v(" 在 "),a("code",[t._v("2020年09月18日")]),t._v(" 发布了 "),a("code",[t._v("3.0")]),t._v(" 的版本之后，很多开发者都开始尝试被大受推崇的 "),a("code",[t._v("Composition API")]),t._v("。在企业中 "),a("code",[t._v("Composition API")]),t._v(" 却并没有被大范围的普及，很多的公司虽然升级到了"),a("code",[t._v("vue 3")]),t._v(" ，但却依然使用着 "),a("code",[t._v("options API")]),t._v(" 语法。")]),t._v(" "),a("div",{staticClass:"language-vue line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-vue"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("h1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{{ count }}"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("h1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("@click")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("inc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("++"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}},[a("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" defineComponent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ref "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vue"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineComponent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setup")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建响应数据 count")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" count "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ref")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建修改数据的方法 inc")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("inc")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// return 一个对象用于在tempate 中使用")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 想要在 tempalte 中使用 count,则必须return出去")]),t._v("\n      count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 想要在 tempalte 中使用 inc,则必须return出去")]),t._v("\n      inc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br")])]),a("p",[t._v("想要在 template 中使用一个 "),a("code",[t._v("响应式数据")]),t._v("，不但要通过 "),a("code",[t._v("ref")]),t._v(" 进行声明，还需要在"),a("code",[t._v("setup")]),t._v("函数中进行"),a("code",[t._v("return")]),t._v("操作。同样方法也是如此。那么当我们的一个项目足够复杂时，这样的一种结构形式就会变得 "),a("code",[t._v("非常的难看")]),t._v(" 并且 "),a("code",[t._v("难以维护")]),t._v("。")]),t._v(" "),a("p",[t._v("在 "),a("code",[t._v("2021年8月5日")]),t._v(" ，伴随着 "),a("code",[t._v("vue 3.2")]),t._v(" 的发布，"),a("code",[t._v("vue")]),t._v(" 正式推出了全新的 "),a("code",[t._v("composition API")]),t._v(" 语法标准 "),a("code",[t._v("script-setup")]),t._v(","),a("code",[t._v("script-setup")]),t._v(" 的推出，标记着 "),a("code",[t._v("setup")]),t._v(" 函数式语法 正式称为过去式！")]),t._v(" "),a("div",{staticClass:"language-vue line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-vue"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("h1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{{ count }}"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("h1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("@click")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("inc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("++"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("setup")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}},[a("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" ref "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vue"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建响应数据 count")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" count "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ref")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建修改数据的方法 inc")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("inc")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br")])]),a("h2",{attrs:{id:"标准化大厂编程规范解决方案之eslint-git-hooks"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#标准化大厂编程规范解决方案之eslint-git-hooks"}},[t._v("#")]),t._v(" 标准化大厂编程规范解决方案之ESLint + Git Hooks")]),t._v(" "),a("h3",{attrs:{id:"为什么需要编程规范"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#为什么需要编程规范"}},[t._v("#")]),t._v(" 为什么需要编程规范？")]),t._v(" "),a("p",[a("strong",[t._v("工欲善其事，必先利其器")]),t._v(","),a("strong",[t._v("一个项目无法具备统一的编程规范，导致项目的代码像多个不同材质的补丁拼接起来一样")]),t._v("。\n如何自动化的对代码进行规范，其中主要包括：")]),t._v(" "),a("ol",[a("li",[t._v("编码规范")]),t._v(" "),a("li",[t._v("git 规范")])]),t._v(" "),a("h3",{attrs:{id:"大厂编程规范一-代码检测工具-eslint"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#大厂编程规范一-代码检测工具-eslint"}},[t._v("#")]),t._v(" 大厂编程规范一：代码检测工具 ESLint")]),t._v(" "),a("p",[t._v("在我们去创建项目的时候，脚手架工具已经帮助我们安装了 ESLint 代码检测工具。对于 ESLint 的大名，同学们或多或少的应该都听说过，只不过有些同学可能了解的多一些，有些同学了解的少一些。")]),t._v(" "),a("p",[t._v("在咱们当前的项目中，包含一个 "),a("code",[t._v(".eslintrc.js")]),t._v(" 文件，这个文件就是 "),a("code",[t._v("eslint")]),t._v(" 的配置文件。随着大家对代码格式的规范性越来越重视，"),a("code",[t._v("eslint")]),t._v(" 也逐渐被更多的人所接收，同时也有很多大厂在原有的 "),a("code",[t._v("eslint")]),t._v(" 规则基础之上进行了一些延伸。")]),t._v(" "),a("p",[t._v("我们在创建项目时，就进行过这样的选择：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" Pick a linter "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" formatter config"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" \n  ESLint "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" error prevention only "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 仅包含错误的 ESLint")]),t._v("\n  ESLint "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" Airbnb config "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Airbnb 的 ESLint 延伸规则")]),t._v("\n  ESLint "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" Standard config "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 标准的 ESLint 规则")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("p",[t._v("打开项目中的 .eslintrc.js 文件")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ESLint 配置文件遵循 commonJS 的导出规则，所导出的对象就是 ESLint 的配置对象")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 文档：https://eslint.bootcss.com/docs/user-guide/configuring")]),t._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 表示当前目录即为根目录，ESLint 规则将被限制到该目录下")]),t._v("\n  root"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// env 表示启用 ESLint 检测的环境")]),t._v("\n  env"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在 node 环境下启动 ESLint 检测")]),t._v("\n    node"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ESLint 中基础配置需要继承的配置")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"plugin:vue/vue3-essential"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@vue/standard"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 解析器")]),t._v("\n  parserOptions"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    parser"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"babel-eslint"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 需要修改的启用规则及其各自的错误级别")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('/**\n   * 错误级别分为三种：\n   * "off" 或 0 - 关闭规则\n   * "warn" 或 1 - 开启规则，使用警告级别的错误：warn (不会导致程序退出)\n   * "error" 或 2 - 开启规则，使用错误级别的错误：error (当被触发的时候，程序会退出)\n   */')]),t._v("\n  rules"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"no-console"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("NODE_ENV")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"production"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"warn"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"off"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"no-debugger"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("NODE_ENV")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"production"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"warn"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"off"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br")])]),a("p",[t._v("那么想要解决ESLint错误，通常情况下我们有两种方式：")]),t._v(" "),a("ul",[a("li",[t._v("按照 ESLint 的要求修改代码")]),t._v(" "),a("li",[t._v("修改 ESLint 的验证规则")])]),t._v(" "),a("h3",{attrs:{id:"大厂编程规范二-代码格式化-prettier"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#大厂编程规范二-代码格式化-prettier"}},[t._v("#")]),t._v(" 大厂编程规范二：代码格式化 Prettier")]),t._v(" "),a("p",[t._v("ESLint 可以让我们的代码格式变得更加规范，但是同样的它也会带来开发时编码复杂度上升的问题。\n那么有没有办法既可以保证 ESLint 规则校验，又可以让开发者无需关注格式问题来进行顺畅的开发呢？而解决这个问题的关键就是 prettier！")]),t._v(" "),a("p",[a("code",[t._v("prettier")]),t._v(" 是什么？")]),t._v(" "),a("ul",[a("li",[t._v("一个代码格式化工具")]),t._v(" "),a("li",[t._v("开箱即用")]),t._v(" "),a("li",[t._v("可以直接集成到 VSCode 之中")]),t._v(" "),a("li",[t._v("在保存时，让代码直接符合 ESLint 标准（需要通过一些简单配置）")])]),t._v(" "),a("h3",{attrs:{id:"eslint-与-prettier-配合解决代码格式问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#eslint-与-prettier-配合解决代码格式问题"}},[t._v("#")]),t._v(" ESLint 与 Prettier 配合解决代码格式问题")]),t._v(" "),a("p",[t._v("在项目中新建 "),a("code",[t._v(".prettierrc")]),t._v(" 文件，该文件为 "),a("code",[t._v("perttier")]),t._v(" 默认配置文件。")]),t._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 不尾随分号")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"semi"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用单引号")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"singleQuote"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 多行逗号分割的语法中，最后一行不加逗号")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"trailingComma"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"none"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br")])]),a("p",[t._v("整个的 perttier 和 ESLint 的配合使用就算是全部完成了。在之后我们写代码的过程中，只需要保存代码，那么 perttier 就会帮助我们自动格式化代码，使其符合 ESLint 的校验规则。而无需我们手动进行更改了。")]),t._v(" "),a("h3",{attrs:{id:"大厂编程规范三-约定式提交规范"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#大厂编程规范三-约定式提交规范"}},[t._v("#")]),t._v(" 大厂编程规范三：约定式提交规范")]),t._v(" "),a("p",[t._v("在前面我们通过 "),a("code",[t._v("prettier + ESLint")]),t._v(" 解决了代码格式的问题，但是我们之前也说过 "),a("strong",[t._v("编程规范")]),t._v(" 指的可不仅仅只是 "),a("strong",[t._v("代码格式规范")]),t._v(" 。")]),t._v(" "),a("p",[t._v("除了 "),a("strong",[t._v("代码格式规范")]),t._v(" 之外，还有另外一个很重要的规范就是 "),a("strong",[a("code",[t._v("git")]),t._v(" 提交规范！")])]),t._v(" "),a("p",[t._v("在现在的项目开发中，通常情况下，我们都会通过 "),a("code",[t._v("git")]),t._v(" 来管理项目。只要通过 "),a("code",[t._v("git")]),t._v(" 来管理项目，那么就必然会遇到使用 "),a("code",[t._v("git")]),t._v(" 提交代码的场景")]),t._v(" "),a("p",[t._v("当我们执行 "),a("code",[t._v('git commit -m "描述信息"')]),t._v(" 的时候，我们知道此时必须添加一个描述信息。但是中华文化博大精深，不同的人去填写描述信息的时候，都会根据自己的理解来进行描述。")]),t._v(" "),a("p",[t._v("而很多人的描述 “天马行空” ，这样就会导致别人在看你的提交记录时，看不懂你说的什么意思？不知道你当前的这次提交到底做了什么事情？会不会存在潜在的风险？")]),t._v(" "),a("p",[t._v("对于 "),a("strong",[a("code",[t._v("git")]),t._v(" 提交规范")]),t._v(" 来说，不同的团队可能会有不同的标准，那么咱们今天就以目前使用较多的 "),a("a",{attrs:{href:"https://github.com/angular/angular.js/blob/master/DEVELOPERS.md#-git-commit-guidelines",target:"_blank",rel:"noopener noreferrer"}},[t._v("Angular团队规范"),a("OutboundLink")],1),t._v(" 延伸出的 "),a("a",{attrs:{href:"https://www.conventionalcommits.org/zh-hans/v1.0.0/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Conventional Commits specification（约定式提交）"),a("OutboundLink")],1),t._v(" 为例，来为大家详解  "),a("strong",[a("code",[t._v("git")]),t._v(" 提交规范")]),t._v("\n约定式提交规范要求如下：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("optional scope"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("description"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("optional body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("optional "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("footer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("  翻译 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("类型"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("可选 范围"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("描述"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("可选 正文"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("可选 脚注"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("p",[t._v("也就是说，如果要按照 "),a("strong",[t._v("约定式提交规范")]),t._v(" 来去做的规范化，我想大家看到这样的一个提交描述之后，心里的感觉应该和我一样是崩溃的！要是每次都这么写，写到猴年马月了！")]),t._v(" "),a("h3",{attrs:{id:"commitizen助你规范化提交代码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#commitizen助你规范化提交代码"}},[t._v("#")]),t._v(" Commitizen助你规范化提交代码")]),t._v(" "),a("p",[t._v("经过了很多人的冥思苦想，就出现了一种叫做 "),a("strong",[t._v("git 提交规范化工具")]),t._v(" 的东西，而我们要学习的 "),a("code",[t._v("commitizen")]),t._v(" 就是其中的佼佼者！")]),t._v(" "),a("p",[a("code",[t._v("commitizen")]),t._v(" 仓库名为 "),a("a",{attrs:{href:"https://github.com/commitizen/cz-cli",target:"_blank",rel:"noopener noreferrer"}},[t._v("cz-cli"),a("OutboundLink")],1),t._v(" ，它提供了一个 "),a("code",[t._v("git cz")]),t._v(" 的指令用于代替 "),a("code",[t._v("git commit")]),t._v("，简单一句话介绍它：")]),t._v(" "),a("blockquote",[a("p",[t._v("当你使用 "),a("code",[t._v("commitizen")]),t._v(" 进行代码提交（git commit）时，"),a("code",[t._v("commitizen")]),t._v(" 会提交你在提交时填写所有必需的提交字段！\n下面我们就来安装并且使用一下 "),a("code",[t._v("commitizen")]),t._v(" ，使用完成之后你自然就明白了这句话的意思！")])]),t._v(" "),a("ol",[a("li",[a("p",[t._v("全局安装"),a("code",[t._v("Commitizen")])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("npm install "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("g commitizen@"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.2")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".4")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])])]),t._v(" "),a("li",[a("p",[t._v("安装并配置 "),a("code",[t._v("cz-customizable")]),t._v(" 插件")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("使用 "),a("code",[t._v("npm")]),t._v(" 下载 "),a("code",[t._v("cz-customizable")])]),t._v(" "),a("div",{staticClass:"language-node line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("npm i cz-customizable@6.3.0 --save-dev\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])])]),t._v(" "),a("li",[a("p",[t._v("添加以下配置到 "),a("code",[t._v("package.json")]),t._v(" 中")]),t._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[t._v("...\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"config"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"commitizen"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"path"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node_modules/cz-customizable"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])])])])]),t._v(" "),a("li",[a("p",[t._v("项目根目录下创建 "),a("code",[t._v(".cz-config.js")]),t._v(" 自定义提示文件")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 可选类型")]),t._v("\n  types"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'feat'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'feat:     新功能'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fix'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fix:      修复'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'docs'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'docs:     文档变更'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'style'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'style:    代码格式(不影响代码运行的变动)'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'refactor'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'refactor: 重构(既不是增加feature，也不是修复bug)'")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'perf'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'perf:     性能优化'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test:     增加测试'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'chore'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'chore:    构建过程或辅助工具的变动'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'revert'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'revert:   回退'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'build'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'build:    打包'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 消息步骤")]),t._v("\n  messages"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'请选择提交类型:'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    customScope"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'请输入修改范围(可选):'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    subject"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'请简要描述提交(必填):'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    body"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'请输入详细描述(可选):'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    footer"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'请输入要关闭的issue(可选):'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    confirmCommit"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'确认使用以上信息提交？(y/n/e/h)'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 跳过问题")]),t._v("\n  skipQuestions"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'body'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'footer'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// subject文字长度默认是72")]),t._v("\n  subjectLimit"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("72")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br")])])]),t._v(" "),a("li",[a("p",[t._v("使用 "),a("code",[t._v("git cz")]),t._v(" 代替 "),a("code",[t._v("git commit")]),t._v("\n使用 "),a("code",[t._v("git cz")]),t._v(" 代替 "),a("code",[t._v("git commit")]),t._v("，即可看到提示内容\n那么到这里我们就已经可以使用"),a("code",[t._v("git cz")]),t._v(" 来代替了 "),a("code",[t._v("git commit")]),t._v(" 实现了规范化的提交诉求了，但是当前依然存在着一个问题，那就是我们必须要通过 "),a("code",[t._v("git cz")]),t._v(" 指令才可以完成规范化提交！它们忘记了使用 "),a("code",[t._v("git cz")]),t._v(" 指令，直接就提交了怎么办呢？")])])]),t._v(" "),a("h3",{attrs:{id:"git-hooks"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#git-hooks"}},[t._v("#")]),t._v(" Git Hooks")]),t._v(" "),a("p",[t._v("使用了 git cz 来代替了 git commit 实现了规范化的提交诉求，但是依然存在着有人会忘记使用的问题。"),a("code",[t._v("Git hooks（git 钩子 || git 回调方法）")]),t._v(" 。也就是："),a("strong",[a("code",[t._v("git")]),t._v(" 在执行某个事件之前或之后进行一些其他额外的操作")]),t._v("，而我们所期望的 "),a("strong",[t._v("阻止不合规的提交消息")]),t._v("，那么就需要使用到 "),a("code",[t._v("hooks")]),t._v(" 的钩子函数。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("Git Hook")]),t._v(" "),a("th",[t._v("调用时机")]),t._v(" "),a("th",[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("pre-applypatch")]),t._v(" "),a("td",[a("code",[t._v("git am")]),t._v("执行前")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("applypatch-msg")]),t._v(" "),a("td",[a("code",[t._v("git am")]),t._v("执行前")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("post-applypatch")]),t._v(" "),a("td",[a("code",[t._v("git am")]),t._v("执行后")]),t._v(" "),a("td",[t._v("不影响"),a("code",[t._v("git am")]),t._v("的结果")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("strong",[t._v("pre-commit")])]),t._v(" "),a("td",[a("code",[t._v("git commit")]),t._v("执行前")]),t._v(" "),a("td",[t._v("可以用"),a("code",[t._v("git commit --no-verify")]),t._v("绕过")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("strong",[t._v("commit-msg")])]),t._v(" "),a("td",[a("code",[t._v("git commit")]),t._v("执行前")]),t._v(" "),a("td",[t._v("可以用"),a("code",[t._v("git commit --no-verify")]),t._v("绕过")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("post-commit")]),t._v(" "),a("td",[a("code",[t._v("git commit")]),t._v("执行后")]),t._v(" "),a("td",[t._v("不影响"),a("code",[t._v("git commit")]),t._v("的结果")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("pre-merge-commit")]),t._v(" "),a("td",[a("code",[t._v("git merge")]),t._v("执行前")]),t._v(" "),a("td",[t._v("可以用"),a("code",[t._v("git merge --no-verify")]),t._v("绕过。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("prepare-commit-msg")]),t._v(" "),a("td",[a("code",[t._v("git commit")]),t._v("执行后，编辑器打开之前")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("pre-rebase")]),t._v(" "),a("td",[a("code",[t._v("git rebase")]),t._v("执行前")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("post-checkout")]),t._v(" "),a("td",[a("code",[t._v("git checkout")]),t._v("或"),a("code",[t._v("git switch")]),t._v("执行后")]),t._v(" "),a("td",[t._v("如果不使用"),a("code",[t._v("--no-checkout")]),t._v("参数，则在"),a("code",[t._v("git clone")]),t._v("之后也会执行。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("post-merge")]),t._v(" "),a("td",[a("code",[t._v("git commit")]),t._v("执行后")]),t._v(" "),a("td",[t._v("在执行"),a("code",[t._v("git pull")]),t._v("时也会被调用")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("pre-push")]),t._v(" "),a("td",[a("code",[t._v("git push")]),t._v("执行前")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("pre-receive")]),t._v(" "),a("td",[a("code",[t._v("git-receive-pack")]),t._v("执行前")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("update")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("post-receive")]),t._v(" "),a("td",[a("code",[t._v("git-receive-pack")]),t._v("执行后")]),t._v(" "),a("td",[t._v("不影响"),a("code",[t._v("git-receive-pack")]),t._v("的结果")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("post-update")]),t._v(" "),a("td",[t._v("当 "),a("code",[t._v("git-receive-pack")]),t._v("对 "),a("code",[t._v("git push")]),t._v(" 作出反应并更新仓库中的引用时")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("push-to-checkout")]),t._v(" "),a("td",[t._v("当``git-receive-pack"),a("code",[t._v("对")]),t._v("git push"),a("code",[t._v("做出反应并更新仓库中的引用时，以及当推送试图更新当前被签出的分支且")]),t._v("receive.denyCurrentBranch"),a("code",[t._v("配置被设置为")]),t._v("updateInstead`时")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("pre-auto-gc")]),t._v(" "),a("td",[a("code",[t._v("git gc --auto")]),t._v("执行前")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("post-rewrite")]),t._v(" "),a("td",[t._v("执行"),a("code",[t._v("git commit --amend")]),t._v("或"),a("code",[t._v("git rebase")]),t._v("时")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("sendemail-validate")]),t._v(" "),a("td",[a("code",[t._v("git send-email")]),t._v("执行前")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("fsmonitor-watchman")]),t._v(" "),a("td",[t._v("配置"),a("code",[t._v("core.fsmonitor")]),t._v("被设置为"),a("code",[t._v(".git/hooks/fsmonitor-watchman")]),t._v("或"),a("code",[t._v(".git/hooks/fsmonitor-watchmanv2")]),t._v("时")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("p4-pre-submit")]),t._v(" "),a("td",[a("code",[t._v("git-p4 submit")]),t._v("执行前")]),t._v(" "),a("td",[t._v("可以用"),a("code",[t._v("git-p4 submit --no-verify")]),t._v("绕过")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("p4-prepare-changelist")]),t._v(" "),a("td",[a("code",[t._v("git-p4 submit")]),t._v("执行后，编辑器启动前")]),t._v(" "),a("td",[t._v("可以用"),a("code",[t._v("git-p4 submit --no-verify")]),t._v("绕过")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("p4-changelist")]),t._v(" "),a("td",[a("code",[t._v("git-p4 submit")]),t._v("执行并编辑完"),a("code",[t._v("changelist message")]),t._v("后")]),t._v(" "),a("td",[t._v("可以用"),a("code",[t._v("git-p4 submit --no-verify")]),t._v("绕过")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("p4-post-changelist")]),t._v(" "),a("td",[a("code",[t._v("git-p4 submit")]),t._v("执行后")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("post-index-change")]),t._v(" "),a("td",[t._v("索引被写入到"),a("code",[t._v("read-cache.c do_write_locked_index")]),t._v("后")]),t._v(" "),a("td")])])]),t._v(" "),a("p",[t._v("PS：详细的 "),a("code",[t._v("HOOKS介绍")]),t._v(" 可点击"),a("a",{attrs:{href:"https://git-scm.com/docs/githooks",target:"_blank",rel:"noopener noreferrer"}},[t._v("这里"),a("OutboundLink")],1),t._v("查看。整体的 "),a("code",[t._v("hooks")]),t._v(" 非常多，当时我们其中用的比较多的其实只有两个：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("Git Hook")]),t._v(" "),a("th",[t._v("调用时机")]),t._v(" "),a("th",[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("strong",[t._v("pre-commit")])]),t._v(" "),a("td",[a("code",[t._v("git commit")]),t._v("执行前"),a("br"),t._v("它不接受任何参数，并且在获取提交日志消息并进行提交之前被调用。脚本"),a("code",[t._v("git commit")]),t._v("以非零状态退出会导致命令在创建提交之前中止。")]),t._v(" "),a("td",[t._v("可以用"),a("code",[t._v("git commit --no-verify")]),t._v("绕过")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("strong",[t._v("commit-msg")])]),t._v(" "),a("td",[a("code",[t._v("git commit")]),t._v("执行前"),a("br"),t._v("可用于将消息规范化为某种项目标准格式。"),a("br"),t._v("还可用于在检查消息文件后拒绝提交。")]),t._v(" "),a("td",[t._v("可以用"),a("code",[t._v("git commit --no-verify")]),t._v("绕过")])])])]),t._v(" "),a("p",[t._v("简单来说这两个钩子：")]),t._v(" "),a("ol",[a("li",[a("code",[t._v("commit-msg")]),t._v("：可以用来规范化标准格式，并且可以按需指定是否要拒绝本次提交")]),t._v(" "),a("li",[a("code",[t._v("pre-commit")]),t._v("：会在提交前被调用，并且可以按需指定是否要拒绝本次提交")])]),t._v(" "),a("h3",{attrs:{id:"使用-husky-commitlint-检查提交描述是否符合规范要求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用-husky-commitlint-检查提交描述是否符合规范要求"}},[t._v("#")]),t._v(" 使用 husky + commitlint 检查提交描述是否符合规范要求")]),t._v(" "),a("ol",[a("li",[a("a",{attrs:{href:"https://github.com/conventional-changelog/commitlint",target:"_blank",rel:"noopener noreferrer"}},[t._v("commitlint"),a("OutboundLink")],1),t._v("：用于检查提交信息")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/typicode/husky",target:"_blank",rel:"noopener noreferrer"}},[t._v("husky"),a("OutboundLink")],1),t._v("：是"),a("code",[t._v("git hooks")]),t._v("工具\n注意："),a("strong",[a("code",[t._v("npm")]),t._v(" 需要在 7.x 以上版本！！！！！")])])]),t._v(" "),a("h4",{attrs:{id:"commitlint"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#commitlint"}},[t._v("#")]),t._v(" commitlint")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("安装依赖：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("npm install --save-dev @commitlint/config-conventional@12.1.4 @commitlint/cli@12.1.4\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])])]),t._v(" "),a("li",[a("p",[t._v("创建 "),a("code",[t._v("commitlint.config.js")]),t._v(" 文件")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("echo \"module.exports = {extends: ['@commitlint/config-conventional']}\" > commitlint.config.js\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])])]),t._v(" "),a("li",[a("p",[t._v("打开 "),a("code",[t._v("commitlint.config.js")]),t._v(" ， 增加配置项（ "),a("a",{attrs:{href:"https://github.com/conventional-changelog/commitlint/blob/master/@commitlint/config-conventional/index.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("config-conventional 默认配置点击可查看"),a("OutboundLink")],1),t._v(" ）：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 继承的规则")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@commitlint/config-conventional'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 定义规则类型")]),t._v("\n  rules"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// type 类型定义，表示 git 提交的 type 必须在以下类型范围内")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'type-enum'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'always'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'feat'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 新功能 feature")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fix'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 修复 bug")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'docs'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 文档注释")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'style'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 代码格式(不影响代码运行的变动)")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'refactor'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 重构(既不增加新功能，也不是修复bug)")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'perf'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 性能优化")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 增加测试")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'chore'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 构建过程或辅助工具的变动")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'revert'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 回退")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'build'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打包")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// subject 大小写不做校验")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'subject-case'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br")])])])]),t._v(" "),a("h4",{attrs:{id:"husky"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#husky"}},[t._v("#")]),t._v(" husky")]),t._v(" "),a("ol",[a("li",[t._v("安装依赖："),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("npm install husky@7.0.1 --save-dev\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])])]),t._v(" "),a("li",[t._v("启动 "),a("code",[t._v("hooks")]),t._v(" ， 生成 "),a("code",[t._v(".husky")]),t._v(" 文件夹"),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("npx husky install\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])])]),t._v(" "),a("li",[t._v("在 "),a("code",[t._v("package.json")]),t._v(" 中生成 "),a("code",[t._v("prepare")]),t._v(" 指令（ "),a("strong",[t._v("需要 npm > 7.0 版本")]),t._v(" ）"),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('npm set-script prepare "husky install"\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])])]),t._v(" "),a("li",[t._v("执行 "),a("code",[t._v("prepare")]),t._v(" 指令"),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("npm run prepare\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])])]),t._v(" "),a("li",[t._v("执行成功，提示")]),t._v(" "),a("li",[t._v("添加 "),a("code",[t._v("commitlint")]),t._v(" 的 "),a("code",[t._v("hook")]),t._v(" 到 "),a("code",[t._v("husky")]),t._v("中，并指令在 "),a("code",[t._v("commit-msg")]),t._v(" 的 "),a("code",[t._v("hooks")]),t._v(" 下执行 "),a("code",[t._v('npx --no-install commitlint --edit "$1"')]),t._v(" 指令"),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("npx husky add .husky/commit-msg 'npx --no-install commitlint --edit \"$1\"'\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])])]),t._v(" "),a("li",[t._v("此时的 "),a("code",[t._v(".husky")]),t._v(" 的文件结构\n那么至此，我们就已经可以处理好了 "),a("strong",[t._v("强制规范化的提交要求")]),t._v("，到现在 "),a("strong",[t._v("不符合规范的提交信息，将不可在被提交！")]),t._v("。")])]),t._v(" "),a("h3",{attrs:{id:"通过-pre-commit-检测提交时代码规范"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#通过-pre-commit-检测提交时代码规范"}},[t._v("#")]),t._v(" 通过 pre-commit 检测提交时代码规范")]),t._v(" "),a("p",[t._v("在 "),a("strong",[a("code",[t._v("ESLint")]),t._v(" 与 "),a("code",[t._v("Prettier")]),t._v(" 配合解决代码格式问题")]),t._v(" 的章节中，我们讲解了如何处理 "),a("strong",[t._v("本地！代码格式问题。")])]),t._v(" "),a("p",[t._v("但是这样的一个格式处理问题，他只能够在本地进行处理，并且我们还需要 "),a("strong",[t._v("手动在  "),a("code",[t._v("VSCode")]),t._v(" 中配置自动保存")]),t._v(" 才可以。那么这样就会存在一个问题，要是有人忘记配置这个东西了怎么办呢？他把代码写的乱七八糟的直接就提交了怎么办呢？")]),t._v(" "),a("p",[t._v("所以我们就需要有一种方式来规避这种风险。")]),t._v(" "),a("p",[t._v("那么想要完成这么一个操作就需要使用 "),a("code",[t._v("husky")]),t._v(" 配合 "),a("code",[t._v("eslint")]),t._v(" 才可以实现。")]),t._v(" "),a("p",[t._v("我们期望通过 "),a("strong",[a("code",[t._v("husky")]),t._v(" 监测 "),a("code",[t._v("pre-commit")]),t._v(" 钩子，在该钩子下执行 "),a("code",[t._v("npx eslint --ext .js,.vue src")])]),t._v(" 指令来去进行相关检测：")]),t._v(" "),a("ol",[a("li",[t._v("执行 "),a("code",[t._v('npx husky add .husky/pre-commit "npx eslint --ext .js,.vue src"')]),t._v(" 添加 "),a("code",[t._v("commit")]),t._v(" 时的 "),a("code",[t._v("hook")]),t._v(" （"),a("code",[t._v("npx eslint --ext .js,.vue src")]),t._v(" 会在执行到该 hook 时运行）")]),t._v(" "),a("li",[t._v("该操作会生成对应文件 "),a("code",[t._v("pre-commit")])])]),t._v(" "),a("h3",{attrs:{id:"lint-staged-自动修复格式错误"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lint-staged-自动修复格式错误"}},[t._v("#")]),t._v(" lint-staged 自动修复格式错误")]),t._v(" "),a("p",[t._v("通过 "),a("code",[t._v("pre-commit")]),t._v(" 处理了 "),a("strong",[t._v("检测代码的提交规范问题，当我们进行代码提交时，会检测所有的代码格式规范")]),t._v(" 。")]),t._v(" "),a("p",[t._v("但是这样会存在两个问题：")]),t._v(" "),a("ol",[a("li",[t._v("我们只修改了个别的文件，没有必要检测所有的文件代码格式")]),t._v(" "),a("li",[t._v("它只能给我们提示出对应的错误，我们还需要手动的进行代码修改\n那么想要处理这两个问题，就需要使用另外一个插件 "),a("a",{attrs:{href:"https://github.com/okonet/lint-staged",target:"_blank",rel:"noopener noreferrer"}},[t._v("lint-staged"),a("OutboundLink")],1),t._v(" ！")])]),t._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/okonet/lint-staged",target:"_blank",rel:"noopener noreferrer"}},[t._v("lint-staged"),a("OutboundLink")],1),t._v(" 可以让你当前的代码检查 "),a("strong",[t._v("只检查本次修改更新的代码，并在出现错误的时候，自动修复并且推送")])]),t._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/okonet/lint-staged",target:"_blank",rel:"noopener noreferrer"}},[t._v("lint-staged"),a("OutboundLink")],1),t._v(" 无需单独安装，我们生成项目时，"),a("code",[t._v("vue-cli")]),t._v(" 已经帮助我们安装过了，所以我们直接使用就可以了")]),t._v(" "),a("ol",[a("li",[t._v("修改 "),a("code",[t._v("package.json")]),t._v(" 配置"),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lint-staged"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"src/**/*.{js,vue}"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eslint --fix"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"git add"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])])]),t._v(" "),a("li",[t._v("如上配置，每次它只会在你本地 "),a("code",[t._v("commit")]),t._v(" 之前，校验你提交的内容是否符合你本地配置的 "),a("code",[t._v("eslint")]),t._v("规则(这个见文档 "),a("a",{attrs:{href:"https://panjiachen.github.io/vue-element-admin-site/zh/guide/advanced/eslint.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("ESLint"),a("OutboundLink")],1),t._v(" )，校验会出现两种结果：\n"),a("ol",[a("li",[t._v("如果符合规则：则会提交成功。")]),t._v(" "),a("li",[t._v("如果不符合规则：它会自动执行 "),a("code",[t._v("eslint --fix")]),t._v(" 尝试帮你自动修复，如果修复成功则会帮你把修复好的代码提交，如果失败，则会提示你错误，让你修好这个错误之后才能允许你提交代码。")])])]),t._v(" "),a("li",[t._v("修改 "),a("code",[t._v(".husky/pre-commit")]),t._v(" 文件"),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token hashbang comment"}},[t._v("#!/bin/sh")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$(dirname "')]),t._v("$"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('")/_/husky.sh"')]),t._v("\nnpx lint"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("staged\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])])]),t._v(" "),a("li",[t._v("再次执行提交代码")]),t._v(" "),a("li",[t._v("发现 "),a("strong",[t._v("暂存区中")]),t._v(" 不符合 "),a("code",[t._v("ESlint")]),t._v(" 的内容，被自动修复")])]),t._v(" "),a("h2",{attrs:{id:"项目架构之搭建登录架构解决方案与实现"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#项目架构之搭建登录架构解决方案与实现"}},[t._v("#")]),t._v(" 项目架构之搭建登录架构解决方案与实现")]),t._v(" "),a("h3",{attrs:{id:"项目技术使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#项目技术使用"}},[t._v("#")]),t._v(" 项目技术使用")]),t._v(" "),a("p",[t._v("我们将会使用最新的 vue3 script setup 语法。 "),a("code",[t._v("vue3")]),t._v(" 最新特性及最新语法。")]),t._v(" "),a("h3",{attrs:{id:"初始化项目结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#初始化项目结构"}},[t._v("#")]),t._v(" 初始化项目结构")]),t._v(" "),a("p",[t._v("使用脚手架搭建。")]),t._v(" "),a("h3",{attrs:{id:"vue3-新特性介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue3-新特性介绍"}},[t._v("#")]),t._v(" vue3 新特性介绍")]),t._v(" "),a("ol",[a("li",[a("code",[t._v("composition API")])]),t._v(" "),a("li",[t._v("使用了 "),a("code",[t._v("Proxy")]),t._v(" 代替 "),a("code",[t._v("Object.defineProperty()")]),t._v(" 实现响应式")]),t._v(" "),a("li",[t._v("全新的全家桶")]),t._v(" "),a("li",[t._v("全新的 "),a("code",[t._v("TS")]),t._v(" 支持")]),t._v(" "),a("li",[a("code",[t._v("vite")]),t._v("\n把定义数据与使用数据的逻辑放在一起进行处理，以达到更加易读，更加方便扩展的目的。")])])])}),[],!1,null,null,null);s.default=e.exports}}]);